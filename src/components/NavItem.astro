---
interface Props {
  node: {
    slug: string;
    title: string;
    children?: Props['node'][];
  };
}

const { node } = Astro.props;
const hasChildren = node.children && node.children.length > 0;
---

<li class="nav-item">
  <div class="nav-link-wrapper">
    {hasChildren && (
      <button class="nav-toggle" aria-label="Toggle"></button>
    )}
    {!hasChildren && <span style="width: 20px;"></span>}
    <a href={`/${node.slug}`} class="nav-link">{node.title}</a>
  </div>
  {hasChildren && (
    <div class="nav-children">
      <ul class="nav-list">
        {node.children!.map((child) => (
          <Astro.self node={child} />
        ))}
      </ul>
    </div>
  )}
</li>

